{"ast":null,"code":"var _jsxFileName = \"/Users/dam143/Desktop/Online-Ordering-Food-System/frontend/src/App.jsx\",\n  _s = $RefreshSig$();\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport React, { useState } from \"react\";\nimport { Col, Layout, Row } from \"antd\";\nimport AppHeader from \"./components/AppHeader/Appheader\";\nimport AppRoutes from \"./Routes\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const navigate = useNavigate();\n\n  // const handleClick = () => {\n  //   navigate('/cart');\n  // }; \n\n  const data = [];\n  async function fetchData() {\n    const response = await axios.get('http://localhost:1337/api/products');\n    const productItems = await response.data.data;\n    data.push(...productItems);\n    console.log(productItems, \"working\");\n    // console.log(productItems.attributes.name,\"name\");\n  }\n\n  fetchData();\n  const productItems = data;\n  const [cartItems, setCartItems] = useState([]);\n  // console.log(cartItems,\"tyu\");\n\n  const handleProduct = product => {\n    const ProductExist = cartItems.find(item => item.id === product.id);\n    if (ProductExist) {\n      setCartItems(cartItems.map(item => item.id === product.id ? {\n        ...ProductExist,\n        quantity: ProductExist.quantity + 1\n      } : item));\n      navigate('/cart');\n    } else {\n      setCartItems([...cartItems, {\n        ...product,\n        quantity: +1\n      }]);\n      navigate('/cart');\n    }\n  };\n  const handleRemoveProduct = product => {\n    const ProductExist = cartItems.find(item => item.id === product.id);\n    if (ProductExist.quantity === 1) {\n      setCartItems(cartItems.filter(item => item.id === product.id));\n      navigate('/cart');\n    } else {\n      setCartItems(cartItems.map(item => item.id === product.id ? {\n        ...ProductExist,\n        quantity: ProductExist.quantity - 1\n      } : item));\n    }\n  };\n  const handleCartClearance = () => {\n    setCartItems([]);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(AppRoutes, {\n      productItems: productItems,\n      cartItems: cartItems,\n      handleProduct: handleProduct,\n      handleRemoveProduct: handleRemoveProduct,\n      handleCartClearance: handleCartClearance\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"nP5DegilSL2pFVie5Gwz346XxsU=\", false, function () {\n  return [useNavigate];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","Col","Layout","Row","AppHeader","AppRoutes","axios","useNavigate","App","navigate","data","fetchData","response","get","productItems","push","console","log","cartItems","setCartItems","handleProduct","product","ProductExist","find","item","id","map","quantity","handleRemoveProduct","filter","handleCartClearance"],"sources":["/Users/dam143/Desktop/Online-Ordering-Food-System/frontend/src/App.jsx"],"sourcesContent":["\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css'\nimport React,{useState} from \"react\";\nimport { Col, Layout, Row } from \"antd\";\nimport AppHeader from \"./components/AppHeader/Appheader\"\nimport AppRoutes from \"./Routes\";\nimport axios from \"axios\";\nimport   {useNavigate} from \"react-router-dom\"\n\nconst App = () => {\n  const navigate = useNavigate();\n\n  // const handleClick = () => {\n  //   navigate('/cart');\n  // }; \n\n  const data = [];\nasync function fetchData() {\n  const response = await axios.get('http://localhost:1337/api/products');\n  const productItems = await response.data.data;\n  data.push(...productItems);\n  console.log(productItems, \"working\");\n  // console.log(productItems.attributes.name,\"name\");\n}\nfetchData();\n\nconst productItems = data;\nconst [cartItems, setCartItems] = useState([]);\n// console.log(cartItems,\"tyu\");\n\nconst handleProduct = (product) =>{\n  const ProductExist = cartItems.find((item) => item.id === product.id);\n  if (ProductExist){\n    setCartItems(cartItems.map((item) => item.id === product.id ?\n    {...ProductExist, quantity: ProductExist.quantity + 1}\n    :item\n    ));\n    navigate('/cart');\n  }else{\n    setCartItems([...cartItems, {...product, quantity: + 1}])\n    navigate('/cart');\n  }\n}\n\nconst handleRemoveProduct =(product) => {\n  const ProductExist = cartItems.find((item) => item.id === product.id);\n  if (ProductExist.quantity === 1){\n    setCartItems(cartItems.filter((item) => item.id === product.id ));\n    navigate('/cart');\n  }else{\n    setCartItems(\n      cartItems.map((item) => \n      item.id === product.id ?\n       {...ProductExist, quantity: ProductExist.quantity - 1}\n      :item ));\n  }\n}\n\nconst handleCartClearance = () =>{\n  setCartItems([]);\n}\n\n  return (\n    <div className='App'>\n      <AppRoutes productItems={productItems} cartItems={cartItems} handleProduct={handleProduct}\n      handleRemoveProduct={handleRemoveProduct} handleCartClearance={handleCartClearance}/>\n      \n    </div>\n   \n  );\n};\n\nexport default App;\n\n"],"mappings":";;AACA,OAAO,sCAAsC;AAC7C,OAAO,WAAW;AAClB,OAAOA,KAAK,IAAEC,QAAQ,QAAO,OAAO;AACpC,SAASC,GAAG,EAAEC,MAAM,EAAEC,GAAG,QAAQ,MAAM;AACvC,OAAOC,SAAS,MAAM,kCAAkC;AACxD,OAAOC,SAAS,MAAM,UAAU;AAChC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAAUC,WAAW,QAAO,kBAAkB;AAAA;AAE9C,MAAMC,GAAG,GAAG,MAAM;EAAA;EAChB,MAAMC,QAAQ,GAAGF,WAAW,EAAE;;EAE9B;EACA;EACA;;EAEA,MAAMG,IAAI,GAAG,EAAE;EACjB,eAAeC,SAAS,GAAG;IACzB,MAAMC,QAAQ,GAAG,MAAMN,KAAK,CAACO,GAAG,CAAC,oCAAoC,CAAC;IACtE,MAAMC,YAAY,GAAG,MAAMF,QAAQ,CAACF,IAAI,CAACA,IAAI;IAC7CA,IAAI,CAACK,IAAI,CAAC,GAAGD,YAAY,CAAC;IAC1BE,OAAO,CAACC,GAAG,CAACH,YAAY,EAAE,SAAS,CAAC;IACpC;EACF;;EACAH,SAAS,EAAE;EAEX,MAAMG,YAAY,GAAGJ,IAAI;EACzB,MAAM,CAACQ,SAAS,EAAEC,YAAY,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EAC9C;;EAEA,MAAMoB,aAAa,GAAIC,OAAO,IAAI;IAChC,MAAMC,YAAY,GAAGJ,SAAS,CAACK,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKJ,OAAO,CAACI,EAAE,CAAC;IACrE,IAAIH,YAAY,EAAC;MACfH,YAAY,CAACD,SAAS,CAACQ,GAAG,CAAEF,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKJ,OAAO,CAACI,EAAE,GAC3D;QAAC,GAAGH,YAAY;QAAEK,QAAQ,EAAEL,YAAY,CAACK,QAAQ,GAAG;MAAC,CAAC,GACrDH,IAAI,CACJ,CAAC;MACFf,QAAQ,CAAC,OAAO,CAAC;IACnB,CAAC,MAAI;MACHU,YAAY,CAAC,CAAC,GAAGD,SAAS,EAAE;QAAC,GAAGG,OAAO;QAAEM,QAAQ,EAAE,CAAE;MAAC,CAAC,CAAC,CAAC;MACzDlB,QAAQ,CAAC,OAAO,CAAC;IACnB;EACF,CAAC;EAED,MAAMmB,mBAAmB,GAAGP,OAAO,IAAK;IACtC,MAAMC,YAAY,GAAGJ,SAAS,CAACK,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKJ,OAAO,CAACI,EAAE,CAAC;IACrE,IAAIH,YAAY,CAACK,QAAQ,KAAK,CAAC,EAAC;MAC9BR,YAAY,CAACD,SAAS,CAACW,MAAM,CAAEL,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKJ,OAAO,CAACI,EAAE,CAAE,CAAC;MACjEhB,QAAQ,CAAC,OAAO,CAAC;IACnB,CAAC,MAAI;MACHU,YAAY,CACVD,SAAS,CAACQ,GAAG,CAAEF,IAAI,IACnBA,IAAI,CAACC,EAAE,KAAKJ,OAAO,CAACI,EAAE,GACrB;QAAC,GAAGH,YAAY;QAAEK,QAAQ,EAAEL,YAAY,CAACK,QAAQ,GAAG;MAAC,CAAC,GACtDH,IAAI,CAAE,CAAC;IACZ;EACF,CAAC;EAED,MAAMM,mBAAmB,GAAG,MAAK;IAC/BX,YAAY,CAAC,EAAE,CAAC;EAClB,CAAC;EAEC,oBACE;IAAK,SAAS,EAAC,KAAK;IAAA,uBAClB,QAAC,SAAS;MAAC,YAAY,EAAEL,YAAa;MAAC,SAAS,EAAEI,SAAU;MAAC,aAAa,EAAEE,aAAc;MAC1F,mBAAmB,EAAEQ,mBAAoB;MAAC,mBAAmB,EAAEE;IAAoB;MAAA;MAAA;MAAA;IAAA;EAAE;IAAA;IAAA;IAAA;EAAA,QAEjF;AAGV,CAAC;AAAC,GA7DItB,GAAG;EAAA,QACUD,WAAW;AAAA;AAAA,KADxBC,GAAG;AA+DT,eAAeA,GAAG;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}